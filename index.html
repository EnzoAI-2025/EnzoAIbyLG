<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>EnzoIA v3.0 ü§ñ</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
<style>
  body {
    margin: 0;
    font-family: 'Poppins', sans-serif;
    background-color: #121212;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
  }

  /* Container principal */
  .chat-container {
    width: 90%;
    max-width: 700px;
    height: 85vh;
    background: rgba(20, 20, 20, 0.9);
    border-radius: 20px;
    box-shadow: 0 0 30px rgba(0, 255, 255, 0.2);
    display: flex;
    flex-direction: column;
    overflow: hidden;
    position: relative;
  }

  /* Janela de conversa */
  .chat-window {
    flex: 1;
    padding: 20px;
    overflow-y: auto;
    display: flex;
    flex-direction: column;
    gap: 10px;
    scrollbar-width: thin;
  }

  /* Bal√µes de mensagem */
  .message {
    max-width: 75%;
    padding: 12px 16px;
    border-radius: 18px;
    line-height: 1.4;
    font-size: 15px;
    word-wrap: break-word;
    animation: fadeIn 0.3s ease;
  }

  .user-message {
    align-self: flex-end;
    background: #1e1e1e;
    color: #fff;
    border: 1px solid #2c2c2c;
  }

  .bot-message {
    align-self: flex-start;
    background: linear-gradient(135deg, #00ffff, #9d00ff);
    color: #fff;
    box-shadow: 0 0 10px rgba(0, 255, 255, 0.3);
  }

  /* Efeito de digita√ß√£o */
  .typing {
    display: inline-flex;
    gap: 5px;
  }

  .typing span {
    width: 8px;
    height: 8px;
    background: #00ffff;
    border-radius: 50%;
    animation: blink 1s infinite;
  }

  .typing span:nth-child(2) {
    animation-delay: 0.2s;
  }
  .typing span:nth-child(3) {
    animation-delay: 0.4s;
  }

  @keyframes blink {
    0%, 80%, 100% { opacity: 0.2; }
    40% { opacity: 1; }
  }

  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
  }

  /* Barra de entrada */
  .input-area {
    display: flex;
    align-items: center;
    background: #1a1a1a;
    padding: 10px 15px;
    border-top: 1px solid #2c2c2c;
    position: relative;
  }

  textarea {
    flex: 1;
    background: transparent;
    border: none;
    color: #fff;
    resize: none;
    outline: none;
    font-size: 15px;
    height: 40px;
  }

  button.send-btn {
    background: linear-gradient(135deg, #00ffff, #9d00ff);
    border: none;
    padding: 10px;
    border-radius: 12px;
    margin-left: 10px;
    cursor: pointer;
    transition: 0.2s;
  }

  button.send-btn:hover {
    transform: scale(1.1);
    box-shadow: 0 0 10px #00ffff;
  }

  /* Contador de caracteres */
  .token-counter {
    position: absolute;
    bottom: 6px;
    right: 55px;
    font-size: 12px;
    color: #888;
  }

  /* Bot√µes de sugest√£o */
  .suggestions {
    position: absolute;
    top: 20px;
    left: 20px;
    display: flex;
    gap: 10px;
  }

  .suggestions button {
    background: rgba(0, 255, 255, 0.1);
    border: 1px solid rgba(0, 255, 255, 0.3);
    color: #00ffff;
    padding: 8px 14px;
    border-radius: 15px;
    cursor: pointer;
    transition: 0.3s;
    font-size: 13px;
  }

  .suggestions button:hover {
    background: rgba(0, 255, 255, 0.2);
  }

</style>
</head>
<body>
  <div class="chat-container">
    <div class="suggestions">
      <button onclick="setPrompt('Inspire-me')">Inspire-me ‚ú®</button>
      <button onclick="setPrompt('Escreva um e-mail')">Escreva um e-mail üìß</button>
      <button onclick="setPrompt('D√™ ideias de c√≥digo')">D√™ ideias de c√≥digo üíª</button>
    </div>

    <div class="chat-window" id="chat-window">
      <div class="message bot-message">
        E a√≠! üëã Eu sou o <b>EnzoIA</b>, seu mais novo c√©rebro digital com um senso de humor um pouco... el√©trico! ‚ö°<br>
        Prontinho pra te ajudar a desvendar mist√©rios, codificar maravilhas ou s√≥ escolher uma pizza üçï<br><br>
        O que posso fazer pra deixar seu dia mais incr√≠vel hoje?
      </div>
    </div>

    <div class="input-area">
      <textarea id="user-input" maxlength="4000" placeholder="Digite aqui..."></textarea>
      <button class="send-btn" id="send-btn">
        <svg width="20" height="20" fill="#fff" viewBox="0 0 24 24">
          <path d="M2 21l21-9L2 3v7l15 2-15 2z"/>
        </svg>
      </button>
      <div class="token-counter" id="counter">0 / 4000</div>
    </div>
  </div>

<script>
  // üß† COLOQUE SUAS CHAVES AQUI
  const OPENAI_API_KEY = "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";
  const SERP_API_KEY = "d2db2d7515693bbc987e8b2bd143a815d76e0a8dd59c9f5c40aed1aff93986d1";

  const chatWindow = document.getElementById('chat-window');
  const userInput = document.getElementById('user-input');
  const counter = document.getElementById('counter');
  const sendBtn = document.getElementById('send-btn');

  // Atualiza contador de caracteres
  userInput.addEventListener('input', () => {
    counter.textContent = `${userInput.value.length} / 4000`;
  });

  // Define texto dos bot√µes de sugest√£o
  function setPrompt(text) {
    userInput.value = text;
    counter.textContent = `${text.length} / 4000`;
  }

  // Fun√ß√£o principal de envio
  sendBtn.addEventListener('click', () => {
    const prompt = userInput.value.trim();
    if (!prompt) return;
    addMessage(prompt, 'user');
    userInput.value = '';
    counter.textContent = '0 / 4000';
    simulateTyping();

    // Simula lat√™ncia da IA
    setTimeout(() => {
      getAIResponse(prompt);
    }, 2000);
  });

  // Exibe mensagem
  function addMessage(text, sender) {
    const msg = document.createElement('div');
    msg.classList.add('message', sender === 'user' ? 'user-message' : 'bot-message');
    msg.innerHTML = text;
    chatWindow.appendChild(msg);
    chatWindow.scrollTop = chatWindow.scrollHeight;
  }

  // Anima√ß√£o de digita√ß√£o
  function simulateTyping() {
    const typing = document.createElement('div');
    typing.classList.add('message', 'bot-message');
    typing.innerHTML = `<div class="typing"><span></span><span></span><span></span></div>`;
    chatWindow.appendChild(typing);
    chatWindow.scrollTop = chatWindow.scrollHeight;
  }

  // Remove efeito de digita√ß√£o
  function removeTyping() {
    const typing = document.querySelector('.typing');
    if (typing) typing.parentElement.remove();
  }

  // Chamada √† OpenAI (simulada ou real)
  async function getAIResponse(prompt) {
    removeTyping();
    try {
      const res = await fetch("https://api.openai.com/v1/chat/completions", {
        method: "POST",
        headers: {
          "Content-Type": "application/json",
          "Authorization": "Bearer " + OPENAI_API_KEY
        },
        body: JSON.stringify({
          model: "gpt-4o-mini",
          temperature: 0.8,
          messages: [
            {
              role: "system",
              content: `Voc√™ √© o EnzoIA, um assistente de intelig√™ncia artificial super amig√°vel e acess√≠vel, mas tamb√©m t√©cnico quando necess√°rio. Use humor leve e clareza nas respostas.`
            },
            { role: "user", content: prompt }
          ]
        })
      });

      const data = await res.json();
      const text = data.choices?.[0]?.message?.content || "‚ö†Ô∏è Ops! N√£o consegui pensar em nada agora...";
      addMessage(text, 'bot');
    } catch (err) {
      addMessage("‚ùå Erro ao conectar com a OpenAI. Verifique sua chave API.", 'bot');
      console.error(err);
    }
  }
</script>
</body>
</html>
